import{t as G,a as V}from"../chunks/C_Mesr7H.js";import{i as he}from"../chunks/C78rvXQR.js";import{H as me,B as be,N as J,F as T,I as xe,M as ye,g,ac as we,a4 as ke,a5 as re,X,G as Y,_ as Te,a6 as ue,C as fe,a7 as Ae,ap as F,a2 as ve,K as ae,aq as Ee,m as q,ar as te,as as Ne,at as Se,a1 as Ce,au as Ie,D as Me,av as $e,aw as De,W as Re,R as Le,ax as Oe,ay as He,az as Ye,aA as Be,aB as Ve,aC as qe,a as Ge,r as Ke,p as Ue,y,w as se,x as ze,aD as Je,A as C,z as x,aE as Xe,s as B}from"../chunks/GrzpjJql.js";import{a as Fe,l as Pe,b as We,e as I,s as ne}from"../chunks/BJ0VHBuK.js";import{b as Qe,s as Ze,a as je}from"../chunks/CH0axzSV.js";import{w as er,d as rr}from"../chunks/BJE41fCa.js";function ar(e,r){return r}function tr(e,r,a,n){for(var l=[],t=r.length,o=0;o<t;o++)Se(r[o].e,l,!0);var u=t>0&&l.length===0&&a!==null;if(u){var m=a.parentNode;Ce(m),m.append(a),n.clear(),M(e,r[0].prev,r[t-1].next)}Ie(l,()=>{for(var b=0;b<t;b++){var s=r[b];u||(n.delete(s.k),M(e,s.prev,s.next)),Me(s.e,!u)}})}function sr(e,r,a,n,l,t=null){var o=e,u={flags:r,items:new Map,first:null};{var m=e;o=T?J(xe(m)):m.appendChild(me())}T&&ye();var b=null,s=!1,h=we(()=>{var i=a();return Le(i)?i:i==null?[]:ve(i)});be(()=>{var i=g(h),f=i.length;if(s&&f===0)return;s=f===0;let c=!1;if(T){var N=o.data===ke;N!==(f===0)&&(o=re(),J(o),X(!1),c=!0)}if(T){for(var w=null,v,p=0;p<f;p++){if(Y.nodeType===8&&Y.data===Te){o=Y,c=!0,X(!1);break}var $=i[p],A=n($,p);v=ce(Y,u,w,null,$,A,p,l,r,a),u.items.set(A,v),w=v}f>0&&J(re())}T||nr(i,u,o,l,r,n,a),t!==null&&(f===0?b?ue(b):b=fe(()=>t(o)):b!==null&&Ae(b,()=>{b=null})),c&&X(!0),g(h)}),T&&(o=Y)}function nr(e,r,a,n,l,t,o){var u=e.length,m=r.items,b=r.first,s=b,h,i=null,f=[],c=[],N,w,v,p;for(p=0;p<u;p+=1){if(N=e[p],w=t(N,p),v=m.get(w),v===void 0){var $=s?s.e.nodes_start:a;i=ce($,r,i,i===null?r.first:i.next,N,w,p,n,l,o),m.set(w,i),f=[],c=[],s=i.next;continue}if(lr(v,N,p),(v.e.f&F)!==0&&ue(v.e),v!==s){if(h!==void 0&&h.has(v)){if(f.length<c.length){var A=c[0],E;i=A.prev;var L=f[0],D=f[f.length-1];for(E=0;E<f.length;E+=1)le(f[E],A,a);for(E=0;E<c.length;E+=1)h.delete(c[E]);M(r,L.prev,D.next),M(r,i,L),M(r,D,A),s=A,i=D,p-=1,f=[],c=[]}else h.delete(v),le(v,s,a),M(r,v.prev,v.next),M(r,v,i===null?r.first:i.next),M(r,i,v),i=v;continue}for(f=[],c=[];s!==null&&s.k!==w;)(s.e.f&F)===0&&(h??(h=new Set)).add(s),c.push(s),s=s.next;if(s===null)continue;v=s}f.push(v),i=v,s=v.next}if(s!==null||h!==void 0){for(var O=h===void 0?[]:ve(h);s!==null;)(s.e.f&F)===0&&O.push(s),s=s.next;var d=O.length;if(d>0){var _=u===0?a:null;tr(r,O,_,m)}}ae.first=r.first&&r.first.e,ae.last=i&&i.e}function lr(e,r,a,n){Ee(e.v,r),e.i=a}function ce(e,r,a,n,l,t,o,u,m,b){var s=(m&$e)!==0,h=(m&De)===0,i=s?h?q(l):te(l):l,f=(m&Ne)===0?o:te(o),c={i:f,v:i,k:t,a:null,e:null,prev:a,next:n};try{return c.e=fe(()=>u(e,i,f,b),T),c.e.prev=a&&a.e,c.e.next=n&&n.e,a===null?r.first=c:(a.next=c,a.e.next=c.e),n!==null&&(n.prev=c,n.e.prev=c.e),c}finally{}}function le(e,r,a){for(var n=e.next?e.next.e.nodes_start:a,l=r?r.e.nodes_start:a,t=e.e.nodes_start;t!==n;){var o=Re(t);l.before(t),t=o}}function M(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function ir(e,r,a){var n=e==null?"":""+e;return n===""?null:n}function ie(e,r,a,n,l,t){var o=e.__className;if(T||o!==a||o===void 0){var u=ir(a);(!T||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=a}return t}const or=Symbol("is custom element"),dr=Symbol("is html");function ur(e){if(T){var r=!1,a=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var n=e.value;Q(e,"value",null),e.value=n}if(e.hasAttribute("checked")){var l=e.checked;Q(e,"checked",null),e.checked=l}}};e.__on_r=a,Oe(a),Fe()}}function Q(e,r,a,n){var l=fr(e);T&&(l[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||l[r]!==(l[r]=a)&&(r==="loading"&&(e[Be]=a),a==null?e.removeAttribute(r):typeof a!="string"&&vr(e).includes(r)?e[r]=a:e.setAttribute(r,a))}function fr(e){return e.__attributes??(e.__attributes={[or]:e.nodeName.includes("-"),[dr]:e.namespaceURI===He})}var oe=new Map;function vr(e){var r=oe.get(e.nodeName);if(r)return r;oe.set(e.nodeName,r=[]);for(var a,n=e,l=Element.prototype;l!==n;){a=Ve(n);for(var t in a)a[t].set&&r.push(t);n=Ye(n)}return r}function cr(e,r,a=r){var n=qe();Pe(e,"input",l=>{var t=l?e.defaultValue:e.value;if(t=P(e)?W(t):t,a(t),n&&t!==(t=r())){var o=e.selectionStart,u=e.selectionEnd;e.value=t??"",u!==null&&(e.selectionStart=o,e.selectionEnd=Math.min(u,e.value.length))}}),(T&&e.defaultValue!==e.value||Ge(r)==null&&e.value)&&a(P(e)?W(e.value):e.value),Ke(()=>{var l=r();P(e)&&l===W(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function P(e){var r=e.type;return r==="number"||r==="range"}function W(e){return e===""?null:+e}const _e="todos",de=typeof window<"u"?localStorage.getItem(_e):"",R=er(de?JSON.parse(de):[]);R.subscribe(e=>{typeof window<"u"&&localStorage.setItem(_e,JSON.stringify(e))});const _r=rr(R,e=>[...e].sort((r,a)=>{const n=(a.urgent?2:0)+(a!=null&&a.important?1:0),l=(r.urgent?2:0)+(r!=null&&r.important?1:0);return n-l}));var gr=G('<meta name="description" content="To Dos">'),pr=G('<li class="flex flex-col gap-4 rounded-sm border border-black/30 p-2"><div class="flex justify-between gap-2"><button>‚åõ</button> <button>‚≠ê</button></div> <div class="flex grow justify-between gap-2"><div class="cursor-pointer text-left break-all"> </div> <div><button class="cursor-pointer">üóëÔ∏è</button></div></div></li>'),hr=G('<main class="h-screen min-h-screen overflow-y-hidden"><div class="flex h-full max-h-full min-h-full flex-col rounded-md bg-white"><div class="flex items-center gap-4 p-4"><input type="text" placeholder="Add a new task" class="w-full grow rounded border border-gray-300 p-2"> <button class="h-[42px] w-40 rounded bg-blue-500 px-1 text-white">Add Todo</button></div> <ul class="flex grow flex-col gap-2 overflow-y-auto px-4 pt-2 pb-4"></ul></div> <dialog class="m-auto w-full rounded-md p-0 backdrop:bg-black/45 md:w-96"><div class="flex flex-col gap-16 px-4 py-4"><div><strong class="text-xl"></strong> <div class="overflow-hidden text-ellipsis whitespace-nowrap"> </div> <div>Continue?</div></div> <div class="flex justify-end gap-2"><button class="border border-gray-300 bg-white px-5 py-2.5 text-sm font-medium text-gray-900 hover:bg-gray-100 focus:ring-4 focus:ring-gray-100 focus:outline-none dark:border-gray-600 dark:bg-gray-800 dark:text-white dark:hover:border-gray-600 dark:hover:bg-gray-700 dark:focus:ring-gray-700">Cancel</button> <button class="bg-red-400 px-5 py-2.5 text-center text-sm font-medium text-white hover:bg-red-800 focus:ring-4 focus:ring-red-300 focus:outline-none dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900">Yes</button></div></div></dialog></main>');function mr(e,r){Ue(r,!1);const[a,n]=Ze(),l=()=>je(_r,"$sortedItems",a);let t=q(null),o=q(null),u=q("");const m=()=>{g(u).trim()&&(R.update(d=>[...d,{id:Date.now(),text:g(u),completed:!1,due_date:"",important:!1,urgent:!1}]),B(u,""))},b=d=>{R.update(_=>_.filter(H=>H.id!==d))};he();var s=hr();We(d=>{var _=gr();Je.title="To Dos",V(d,_)});var h=y(s),i=y(h),f=y(i);ur(f);var c=C(f,2);x(i);var N=C(i,2);sr(N,5,l,ar,(d,_)=>{var H=pr(),K=y(H),U=y(K),Z=C(U,2);x(K);var j=C(K,2),z=y(j),ge=y(z,!0);x(z);var ee=C(z,2),pe=y(ee);x(ee),x(j),x(H),se(()=>{var S,k;ie(U,1,`${(S=g(_))!=null&&S.urgent?"":"opacity-30"} cursor-pointer hover:opacity-100`),ie(Z,1,`${(k=g(_))!=null&&k.important?"":"opacity-30"} cursor-pointer hover:opacity-100`),ne(ge,g(_).text)}),I("click",U,()=>{R.update(S=>S.map(k=>k.id===g(_).id?{...k,urgent:!k.urgent}:k))}),I("click",Z,()=>{R.update(S=>S.map(k=>k.id===g(_).id?{...k,important:!k.important}:k))}),I("click",pe,()=>{var S;(S=g(t))==null||S.showModal(),B(o,g(_))}),V(d,H)}),x(N),x(h);var w=C(h,2),v=y(w),p=y(v),$=y(p);$.textContent="‚ö†Ô∏è Are you sure?";var A=C($,2),E=y(A,!0);x(A),Xe(2),x(p);var L=C(p,2),D=y(L),O=C(D,2);x(L),x(v),x(w),Qe(w,d=>B(t,d),()=>g(t)),x(s),se(()=>{var d,_;Q(A,"title",`This will delete "${((d=g(o))==null?void 0:d.text)||""}".`),ne(E,`This will delete "${((_=g(o))==null?void 0:_.text)||""}".`)}),cr(f,()=>g(u),d=>B(u,d)),I("keydown",f,d=>{d.key==="Enter"&&m()}),I("click",c,m),I("click",D,()=>{var d;(d=g(t))==null||d.close()}),I("click",O,()=>{var d,_;b(((d=g(o))==null?void 0:d.id)||0),(_=g(t))==null||_.close(),B(o,null)}),I("click",w,d=>{var _;d.target===d.currentTarget&&((_=g(t))==null||_.close())}),V(e,s),ze(),n()}var br=G("<main><!></main>");function Er(e){var r=br(),a=y(r);mr(a,{}),x(r),V(e,r)}export{Er as component};
