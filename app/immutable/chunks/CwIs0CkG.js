import{e as b,r as l,a as d,q as g,S as p,t as S,d as o,n as a,m as y,s as T,g as q}from"./CmTYSYLm.js";import{s as E,g as M}from"./D54vMbHj.js";function c(s,r){return s===r||(s==null?void 0:s[p])===r}function U(s={},r,i,u){return b(()=>{var f,n;return l(()=>{f=n,n=[],d(()=>{s!==i(...n)&&(r(s,...n),f&&c(i(...f),s)&&r(null,...f))})}),()=>{g(()=>{n&&c(i(...n),s)&&r(null,...n)})}}),s}let t=!1,e=Symbol();function h(s,r,i){const u=i[r]??(i[r]={store:null,source:y(void 0),unsubscribe:a});if(u.store!==s&&!(e in i))if(u.unsubscribe(),u.store=s??null,s==null)u.source.v=void 0,u.unsubscribe=a;else{var f=!0;u.unsubscribe=E(s,n=>{f?u.source.v=n:T(u.source,n)}),f=!1}return s&&e in i?M(s):q(u.source)}function k(){const s={};function r(){S(()=>{for(var i in s)s[i].unsubscribe();o(s,e,{enumerable:!1,value:!0})})}return[s,r]}function v(s){var r=t;try{return t=!1,[s(),t]}finally{t=r}}export{h as a,U as b,v as c,k as s};
